---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    rooms:
      - secure: "ZR7QNwPgUxh8qQz1GbO9xZQ4XLh+qHGo6/IriPntRqODTTaly2bHrPQ5+/uroIVJkQ6acyIVyzfiep6+CVrkFQ7eCrdVw6PDuQN0hjCi/OZ0/ft9AHRdUeZHghwUU0nmNBGaBebIuURxBiNuQCmYInHYGa96oguUBMFRwReYAvv/L9144pzAKhGtiIKRchUJhoUrORHz0wtCdhKQAl5fGCIGru+80lv0rmrc79V5L8Gz46TK8brMCr5ZYUBC5s/LmrmYDllUmSqs14NmpuPvqlrXkvGWSuTivRa54CrTXP5dqhZpWO3+5uMUKeTRvlq0MC3t473ZDyMqEdeysewtVo4wLS6h8kBL8a4gpbT/TEmjOJq7HPurs5FPV+LZdlBODcYSFi5XEjimo0fJjTNogt/+szeurxkVCT7YfXiLxZkq7sa0XDQP1jWy36uwJyRIkhF/MLGne3SfiUbuY2nXQcSOVpBe7u8MgnWdnCZght/UW5Y3eeo3T13xbeU0hz398mqhMyg5jehXryc9YfrU8/+bIECGR7ySqzkJyrptkYKcpXBQPYQ5GFQwHTTryuru17fdsdPCkq9LQ3iIu1YWqIkEfsuJ8RZzvxZUn5rlFH2t7KakjNI0+4ILouFGauqsVrsA/ZNMEdMAy/+vIPMKSYbGyZkvPg5uaKF7S6Pj0yE="
  email: false
